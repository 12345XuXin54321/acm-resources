# P4515 [COCI2009-2010#6] XOR 

## 题意

有若干的**等腰直角三角形**，顶点在左下方，两腰与坐标轴平行。
被奇数个三角形覆盖的面积为白色，
被偶数个三角形覆盖的面积为灰色。

已知 $N$ 个**等腰直角三角形**的顶点坐标和腰长，求灰色部分的面积。

## 思路

### 两个三角形的公共部分

题目给出的三角形可以很快的确定它们的公共部分，
并且若有公共部分，那么公共部分也是**等腰直角三角形**

可以把其中一个三角形 $T_1$ 的顶点建立参考系，
讨论另一个三角形 $T_2$ 顶点的位置。
求公共部分的三角形 $T_x$

可以先讨论在三四象限的情况。

$T_2$ 顶点在第三象限，
则 $T_x$ 不存在，
或顶点在 $T_1$ 的与 $y$ 轴平行的腰上。

$T_2$ 顶点在第四象限，
则 $T_x$ 不存在，
或顶点在 $T_1$ 的顶点上。

每种情况可以求出顶点位置和腰长。

如果在一二象限，可以调换两个三角形。

### 求公共部分的面积

用容斥原理的想法，先加上所有三角形的面积，
减去两个三角形的公共部分面积，
加上三个三角形的公共部分面积……

需要注意，由于奇数个的颜色为灰色，
偶数个的颜色为白色，
所以乘上的系数是 $2^i$

## 题解代码

[代码](main.cpp)