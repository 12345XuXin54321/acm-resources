# G. Modular Sorting

## 题意

有一个整数 $m \; (2 \leq m \leq 5 \cdot 10^5)$ 和一个数组 $a$ ，
里面的数字小于 $m$

有以下询问：

* $1 \; i \; x$  表示 $a_i := x$
* $2 \; k$ 一次操作可以选择一个 $a_i$ ，
令 $a_i := (a_i + k) \pmod{m}$ ，
确定是否存在一个操作序列，使 $a$ 不降。

## 思路

设 $g = \gcd(m, k)$ ，每次操作可以让 $a_i$ 加上或减少任意个 $g$ 。
因此可以让 $a$ 中每个数字对 $g$ 取模，然后算出最少可以分割成几个不降序列。
个数小于或等于 $\frac{m}{g}$ 时，
表示可以找到这个操作序列。

由于 $m$ 的最大可能的因数个数小于 $10^3$ ，
所以可以对于所有的因数，分别维护取模后的数组。
因为只是单点修改，可以 $O(1)$ 维护每个数组，
最少可以分割成几个不降序列。